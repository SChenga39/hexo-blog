<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/hexo-blog/img/fluid.png"><link rel="icon" href="/hexo-blog/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="SChenga"><meta name="keywords" content=""><meta name="description" content="sysctl 的使用方式 使用命令 sysctl -w key=value 手动调整选项值 使用命令 sysctl key 获取选项当前的值 （推荐）先编辑文件 /etc/sysctl.conf 然后使用命令 sysctl -p 一键导入已修改的键值对  使用合适的拥塞控制算法拥塞控制是通过算法来提升或降低数据发送速率以防止网络出现拥堵。常见的拥塞控制算法有 reno、cubic、bbr 等，其中"><title>Linux sysctl 调优实战 - SChenga&#39;s blog</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"><style>@font-face{font-family:iconfont;src:url(/hexo-blog/css/font_1749284_hj8rtnfg7um.woff2) format("woff2"),url(/hexo-blog/css/font_1749284_hj8rtnfg7um.woff) format("woff"),url(/hexo-blog/css/font_1749284_hj8rtnfg7um.ttf) format("truetype");font-display:swap}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-success:before{content:"\e619"}.icon-cc:before{content:"\e8e4"}.icon-nd:before{content:"\e90e"}.icon-sa:before{content:"\e604"}.icon-nc:before{content:"\ed48"}.icon-by:before{content:"\e741"}.icon-top:before{content:"\e605"}.icon-author:before{content:"\e7aa"}.icon-light:before{content:"\e6e6"}.icon-dark:before{content:"\e640"}.icon-articles:before{content:"\e61f"}.icon-category-fill:before{content:"\e60d"}.icon-category:before{content:"\e65e"}.icon-chart:before{content:"\e618"}.icon-search:before{content:"\e6f2"}.icon-love:before{content:"\e643"}.icon-eye:before{content:"\e722"}.icon-archive-fill:before{content:"\ef1c"}.icon-date-fill:before{content:"\ef5a"}.icon-home-fill:before{content:"\f017"}.icon-link-fill:before{content:"\f037"}.icon-tags-fill:before{content:"\f0f3"}.icon-user-fill:before{content:"\f12c"}.icon-date:before{content:"\f27d"}.icon-copy:before{content:"\f289"}.icon-list:before{content:"\f2c0"}.icon-tags:before{content:"\e798"}.icon-clock-fill:before{content:"\e67d"}.icon-arrowup:before{content:"\e799"}.icon-arrowleft:before{content:"\f2c2"}.icon-arrowright:before{content:"\f2c3"}.icon-arrowdown:before{content:"\f2c4"}</style><link rel="stylesheet" href="/hexo-blog/css/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/hexo-blog/css/main.css"><link media="print" onload='this.media="all"' id="highlight-css" rel="stylesheet" href="/hexo-blog/css/highlight.css"><link media="print" onload='this.media="all"' id="highlight-css-dark" rel="stylesheet" href="/hexo-blog/css/highlight-dark.css"><link rel="preload" href="/hexo-blog/css/font_1749284_hj8rtnfg7um.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/hexo-blog/css/font_1736178_lbnruvf0jn.woff2" as="font" type="font/woff2" crossorigin><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"schenga39.github.io",root:"/hexo-blog/",version:"1.9.5",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/hexo-blog/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/hexo-blog/js/utils.js"></script><script src="/hexo-blog/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/hexo-blog/atom.xml" title="SChenga's blog" type="application/atom+xml">
</head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/hexo-blog/"><strong>SChenga&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/hexo-blog/"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/hexo-blog/archives/"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/hexo-blog/tags/"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/hexo-blog/img/default.webp) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">Linux sysctl 调优实战</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-06-12 00:00" pubdate>2023年6月12日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 5.1k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 43 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Linux sysctl 调优实战</h1><div class="markdown-body"><h2 id="sysctl-的使用方式"><a href="#sysctl-的使用方式" class="headerlink" title="sysctl 的使用方式"></a>sysctl 的使用方式</h2><ol><li>使用命令 <code>sysctl -w key=value</code> 手动调整选项值</li><li>使用命令 <code>sysctl key</code> 获取选项当前的值</li><li>（推荐）先编辑文件 <code>/etc/sysctl.conf</code> 然后使用命令 <code>sysctl -p</code> 一键导入已修改的键值对</li></ol><h2 id="使用合适的拥塞控制算法"><a href="#使用合适的拥塞控制算法" class="headerlink" title="使用合适的拥塞控制算法"></a>使用合适的拥塞控制算法</h2><p>拥塞控制是通过算法来提升或降低数据发送速率以防止网络出现拥堵。常见的拥塞控制算法有 reno、cubic、bbr 等，其中 reno 和 cubic 是基于丢失的算法（出现拥堵后降低发送速率），bbr 则是基于模型（监控延迟是否改变）。</p><p>在 Linux 中可以使用 <code>sysctl net.ipv4.tcp_congestion_control</code> 查看当前系统使用的拥塞控制算法。使用 <code>uname -r</code> 查看 Linux 内核版本，若版本低于 4.9 则未内置 bbr 算法，可以先更新内核版本。</p><h2 id="优化完成后的-sysctl-conf-文件"><a href="#优化完成后的-sysctl-conf-文件" class="headerlink" title="优化完成后的 sysctl.conf 文件"></a>优化完成后的 sysctl.conf 文件</h2><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 文件系统优化</span>
fs.aio-max-nr=1048576
fs.file-max=1000000
fs.inotify.max_user_instances=4096
fs.lease-break-time=30
<span class="hljs-comment"># 开启崩溃自动重启</span>
kernel.panic=1
kernel.sysrq=0
kernel.pid_max=1000000
net.core.default_qdisc=fq
net.core.netdev_max_backlog=65536
net.core.rmem_default=3400000
net.core.rmem_max=67000000
net.core.somaxconn=65535
net.core.wmem_default=3400000
net.core.wmem_max=67000000
net.core.optmem_max=67000000
<span class="hljs-comment"># 关闭 ICMP 重定向请求</span>
net.ipv4.conf.default.accept_redirects=0
net.ipv4.conf.default.rp_filter=1
net.ipv4.conf.default.accept_redirects=0
net.ipv4.conf.default.secure_redirects=0
<span class="hljs-comment"># 路由系统中不要禁用</span>
net.ipv4.conf.default.send_redirects=0
<span class="hljs-comment"># 禁 ping</span>
net.ipv4.icmp_echo_ignore_all=1
net.ipv6.icmp.echo_ignore_all=1
<span class="hljs-comment"># 关闭攻击记录日志</span>
net.ipv4.conf.default.log_martians=0
<span class="hljs-comment"># 禁用 IP 源路由</span>
net.ipv4.conf.default.accept_source_route=0
<span class="hljs-comment"># 避免放大攻击</span>
net.ipv4.icmp_echo_ignore_broadcasts=1
<span class="hljs-comment"># 启用恶意错误信息防护</span>
net.ipv4.icmp_ignore_bogus_error_responses=1
<span class="hljs-comment"># 关闭 IPv4 包转发</span>
net.ipv4.ip_forward=0
<span class="hljs-comment"># 增大本地端口范围</span>
net.ipv4.ip_local_port_range=1024 65000
<span class="hljs-comment"># 开启 MTU 嗅探</span>
net.ipv4.ip_no_pmtu_disc=0
<span class="hljs-comment"># 加快路由缓存刷新频率</span>
net.ipv4.route.gc_timeout=100
net.ipv4.tcp_adv_win_scale=1
net.ipv4.tcp_base_mss=1024
net.ipv4.tcp_comp_sack_delay_ns=1000000
<span class="hljs-comment"># 调整拥塞控制算法为 BBR</span>
net.ipv4.tcp_congestion_control=bbr
<span class="hljs-comment"># 关闭 early demux</span>
net.ipv4.tcp_early_demux=0
net.ipv4.tcp_ecn=1
net.ipv4.tcp_ecn_fallback=1
<span class="hljs-comment"># 开启发送和接收双向的 fastopen</span>
net.ipv4.tcp_fastopen=3
<span class="hljs-comment"># 缩短处于 FIN_WAIT_2 状态的时间</span>
net.ipv4.tcp_fin_timeout=30
net.ipv4.tcp_frto=2
<span class="hljs-comment"># TCP 发送心跳包的时间间隔</span>
net.ipv4.tcp_keepalive_time=1200
net.ipv4.tcp_keepalive_intvl=30
net.ipv4.tcp_keepalive_probes=3
<span class="hljs-comment"># 已记住的连接数</span>
net.ipv4.tcp_max_syn_backlog=2048
<span class="hljs-comment"># 增大 tw buckets</span>
net.ipv4.tcp_max_tw_buckets=2000000
net.ipv4.tcp_min_rtt_wlen=50
net.ipv4.tcp_min_tso_segs=2
<span class="hljs-comment"># TCP 包大小自适应</span>
net.ipv4.tcp_moderate_rcvbuf=1
<span class="hljs-comment"># 打开 TCP MTU 嗅探</span>
net.ipv4.tcp_mtu_probing=1
net.ipv4.tcp_no_metrics_save=1
<span class="hljs-comment"># 开启 tcp_notsent_lowat</span>
net.ipv4.tcp_notsent_lowat=131072
net.ipv4.tcp_orphan_retries=2
net.ipv4.tcp_recovery=1
net.ipv4.tcp_reordering=6
<span class="hljs-comment"># 放弃回应一个 TCP 连接请求前需进行多少次重试</span>
net.ipv4.tcp_retries1=3
<span class="hljs-comment"># 在丢弃已建立通讯状况的 TCP 连接前需进行多少次重试</span>
net.ipv4.tcp_retries2=3
<span class="hljs-comment"># 开启 RFC1337 标准</span>
net.ipv4.tcp_rfc1337=1
<span class="hljs-comment"># 启用有选择的应答</span>
net.ipv4.tcp_sack=1
net.ipv4.tcp_fack=1
net.ipv4.tcp_tw_reuse=1
net.ipv4.tcp_max_orphans=3276800
<span class="hljs-comment"># 加快重发</span>
net.ipv4.tcp_slow_start_after_idle=0
net.ipv4.tcp_early_retrans=1
net.ipv4.tcp_syn_retries=3
net.ipv4.tcp_synack_retries=2
<span class="hljs-comment"># SYN 等待队列溢出时启用 cookies 处理, 防止 SYN 攻击</span>
net.ipv4.tcp_syncookies=1
<span class="hljs-comment"># 开启 TCP 时间戳, 防止 TCP 的 RST 攻击</span>
net.ipv4.tcp_timestamps=1
net.ipv4.tcp_tso_win_divisor=2
<span class="hljs-comment"># 要支持超过 64KB 的窗口大小需要启用</span>
net.ipv4.tcp_window_scaling=1
<span class="hljs-comment"># tcp 内存调整</span>
net.ipv4.tcp_mem=78643200 104857600 157286400
net.ipv4.tcp_wmem=4096 66560 70254592
net.ipv4.tcp_rmem=4096 89088 70254592
<span class="hljs-comment"># 关闭 early demux</span>
net.ipv4.udp_early_demux=0
<span class="hljs-comment"># 增大 UDP 内存限制</span>
net.ipv4.udp_mem=78643200 104857600 157286400
<span class="hljs-comment"># net.ipv4.udp_rmem_min=94500000</span>
<span class="hljs-comment"># net.ipv4.udp_wmem_min=94500000</span>
<span class="hljs-comment"># 不使用 IPv6 时彻底关闭 IPv6</span>
net.ipv6.conf.default.disable_ipv6=1
<span class="hljs-comment"># 使用 IPv6 时优化</span>
<span class="hljs-comment"># net.ipv6.conf.all.forwarding=1</span>
<span class="hljs-comment"># net.ipv6.conf.all.accept_ra=2</span>
<span class="hljs-comment"># net.ipv6.conf.all.proxy_ndp=1</span>
<span class="hljs-comment"># net.ipv6.conf.all.hop_limit=128</span>
<span class="hljs-comment"># net.ipv6.conf.default.hop_limit=128</span>
<span class="hljs-comment"># net.ipv6.route.min_adv_mss=1024</span>
<span class="hljs-comment"># net.ipv6.route.mtu_expires=600</span>
<span class="hljs-comment"># 调整内存写回策略</span>
vm.dirty_background_ratio=2
vm.dirty_expire_centisecs=600
vm.dirty_ratio=5
vm.dirty_writeback_centisecs=100
vm.max_map_count=262144
vm.min_free_kbytes=262144
vm.swappiness=10
vm.vfs_cache_pressure=200
<span class="hljs-comment"># netfilter 调整</span>
net.netfilter.nf_conntrack_acct=1
net.netfilter.nf_conntrack_checksum=0
net.netfilter.nf_conntrack_max=65535
net.netfilter.nf_conntrack_tcp_timeout_established=7440
net.netfilter.nf_conntrack_udp_timeout=60
net.netfilter.nf_conntrack_udp_timeout_stream=180</code></pre></div><h2 id="调整-Linux-系统限制"><a href="#调整-Linux-系统限制" class="headerlink" title="调整 Linux 系统限制"></a>调整 Linux 系统限制</h2><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 修改系统安全限制</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;* soft nofile 51200&quot;</span> &gt;&gt; /etc/security/limits.conf
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;* hard nofile 51200&quot;</span> &gt;&gt; /etc/security/limits.conf
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;session required pam_limits.so&quot;</span> &gt;&gt; /etc/pam.d/common-session
<span class="hljs-comment"># 配置开机修改限制</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ulimit -n 1000000&quot;</span> &gt;&gt; /etc/profile
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ulimit -i 193045&quot;</span> &gt;&gt; /etc/profile
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ulimit -l 64&quot;</span> &gt;&gt; /etc/profile
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;ulimit -u 1000000&quot;</span> &gt;&gt; /etc/profile</code></pre></div><h2 id="关闭网卡-NAPI-功能"><a href="#关闭网卡-NAPI-功能" class="headerlink" title="关闭网卡 NAPI 功能"></a>关闭网卡 NAPI 功能</h2><p>网卡的 NAPI 功能可能会带来延迟的波动和其他问题，可使用以下命令将其关闭：</p><div class="code-wrapper"><pre><code class="hljs bash">ethtool -C eth0 rx-usecs 0</code></pre></div><h2 id="调整网卡的接收和发送队列"><a href="#调整网卡的接收和发送队列" class="headerlink" title="调整网卡的接收和发送队列"></a>调整网卡的接收和发送队列</h2><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 查看当前网卡的队列长度</span>
ethtool -g eth0
<span class="hljs-comment"># 修改 eth0 接收和发送队列长度为 4096</span>
ethtool -G eth0 rx 4096
ethtool -G eth0 tx 4096
<span class="hljs-comment"># 增加 txqueuelen</span>
ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> dev eth0 txqueuelen 4096
<span class="hljs-comment"># 如果在运行旧版本内核, 应手动增加 txqueuelen 到 1000</span>
ifconfig eth0 txqueuelen 1000</code></pre></div><h2 id="增大-Swap-分区"><a href="#增大-Swap-分区" class="headerlink" title="增大 Swap 分区"></a>增大 Swap 分区</h2><p>推荐设置的 Swap 分区大小和内存大小的对应关系如下表：</p><table><thead><tr><th>内存大小</th><th>推荐的 Swap 分区大小</th></tr></thead><tbody><tr><td>小于 4g</td><td>4G</td></tr><tr><td>4-16G</td><td>8G</td></tr><tr><td>16-64G</td><td>16G</td></tr><tr><td>64-256G</td><td>32G</td></tr></tbody></table><p>可使用如下命令改变创建新的 Swap 文件并设置开启自动启用：</p><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># 查看当前分区状况</span>
free -m
<span class="hljs-comment"># 关闭所有 Swap</span>
swapoff -a
<span class="hljs-comment"># 创建新的 Swap 文件: 块大小为 1MB (1048576 bytes)，数量为 4096</span>
<span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/zero of=/var/swapfile bs=1M count=4096
<span class="hljs-comment"># 设置文件为 Swap</span>
mkswap /var/swapfile
<span class="hljs-comment"># 启用 Swap 分区</span>
swapon /var/swapfile
<span class="hljs-comment"># 查看当前分区状况</span>
free -m
<span class="hljs-comment"># 设置开启启动</span>
vim /etc/fstab
<span class="hljs-comment"># ========================================</span>
/var/swapfile swap swap defaults 0 0
<span class="hljs-comment"># ========================================</span></code></pre></div><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol><li><a target="_blank" rel="noopener" href="https://www.kernel.org/doc/html/latest/networking/ip-sysctl.html">IP Sysctl — The Linux Kernel documentation</a></li><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/MssGuo/article/details/120586496">Linux 如何增大、缩小 swap 分区</a></li><li><a target="_blank" rel="noopener" href="https://gist.github.com/voluntas/bc54c60aaa7ad6856e6f6a928b79ab6c">Sysctl configuration for high performance</a></li><li><a target="_blank" rel="noopener" href="https://access.redhat.com/sites/default/files/attachments/20150325_network_performance_tuning.pdf">Red Hat Enterprise Linux Network Performance Tuning Guide</a></li><li><a target="_blank" rel="noopener" href="https://wiki.linuxfoundation.org/networking/napi#disadvantages">networking:napi</a></li></ol></div><hr><div><div class="post-metas my-3"><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/hexo-blog/tags/Linux/" class="print-no-link">#Linux</a> <a href="/hexo-blog/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="print-no-link">#性能优化</a></div></div><div class="license-box my-3"><div class="license-title"><div>Linux sysctl 调优实战</div><div>https://schenga39.github.io/hexo-blog/2023/06/11/Linux-sysctl-调优实战/</div></div><div class="license-meta"><div class="license-meta-item license-meta-date"><div>发布于</div><div>2023年6月12日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/hexo-blog/2023/09/27/Arch-Linux-%E5%AE%89%E8%A3%85%E5%85%A8%E8%BF%87%E7%A8%8B/" title="Arch Linux 安装全过程"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Arch Linux 安装全过程</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/hexo-blog/2023/05/07/Windows-%E7%B3%BB%E7%BB%9F%E6%96%B0%E8%A3%85%E4%BC%98%E5%8C%96%E6%8C%87%E5%8D%97/" title="Windows 系统新装优化指南"><span class="hidden-mobile">Windows 系统新装优化指南</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a><i class="iconfont icon-love"></i><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script defer src="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script><script defer src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script defer src="/hexo-blog/js/events.js"></script><script defer src="/hexo-blog/js/plugins.js"></script><script defer src="/hexo-blog/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-o},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/hexo-blog/js/local-search.js"></script><script defer src="/hexo-blog/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>